// test.si

// TODO(lucas): Import weirdness! Sometimes we fail when declaring new variables here after importing files.
// import "test/misc.si"

let list_of_names = list(
  "Bob",
  "Lucas",
  "Gabriella",
  "Brendan",
  "Ressie",
  "Karrie",
  "Billy",
  "Norbert",
  "Lillie",
  "Alfred"
)

// Use functions as tables
fn table {
  fn get_random_name {
    list_index(list_of_names, rand() % list_length(list_of_names))
  }

  let name = get_random_name()
  let age = 1 + rand() % 100
  return 0
} table()

printf(
  "My name is % and I'm % years old.\n",
  _index(table, "name"),
  _index(table, "age")
)

list_free(list_of_names)
return nil
